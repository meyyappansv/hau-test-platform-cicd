- name: Install dependency packages for UI
  hosts: ui
  become: true
  become_method: sudo
  become_user: root
  become_flags: '-n'

  vars:
    packages: "{{ lookup('file', './packages.txt').splitlines() }}"

  tasks:
    - name: Simulate failure with custom message
      ansible.builtin.fail:
        msg: "‚ùå Simulated error: aborting as requested"